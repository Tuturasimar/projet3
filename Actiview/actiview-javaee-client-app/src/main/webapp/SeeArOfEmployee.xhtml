<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

<ui:composition template="/WEB-INF/templates/default.xhtml">
	<f:metadata>
		<f:viewParam name="id" />
		<f:event listener="#{seeArOfEmployeeBean.showArCalendar(id)}"
			type="preRenderView"></f:event>
	</f:metadata>



	<ui:define name="content">

		<h2 class="text-center my-4">Visualisation du Compte Rendu d'Activité</h2>

		<div class="row">
			<p:outputLabel
				value="CRA du mois de #{seeArOfEmployeeBean.getMonth()} #{seeArOfEmployeeBean.getYear()}"
				class="text-center mb-3" style="font-size: 20px !important"></p:outputLabel>
			<p:growl id="messages" showDetail="true" />
		</div>

		<div class="row px-2">
			<div
				class="col-sm-4 d-flex flex-column justify-content-around card p-3">
				<h3 class="text-center">Légende</h3>
				<div class="row">
					<div class="col-sm-6">Mission</div>
					<div class="col-sm-5 redCalendarItem rounded"></div>
				</div>
				<div class="row">
					<div class="col-sm-6">Absence</div>
					<div class="col-sm-5 blueCalendarItem rounded"></div>
				</div>
				<div class="row">
					<div class="col-sm-6">Formation</div>
					<div class="col-sm-5 purpleCalendarItem rounded"></div>
				</div>
				<h:form>
					<div class="row d-flex justify-content-around">

						<div class="col-sm-5">
							<p:commandButton
								action="#{seeArOfEmployeeBean.acceptAr(seeArOfEmployeeBean.arOfEmployeeVM.arId)}"
								value="Valider le CRA"
								rendered="#{seeArOfEmployeeBean.arOfEmployeeVM.stateAr == seeArOfEmployeeBean.inhold}" />
						</div>
						<div class="col-sm-5">
							<p:commandButton
								action="#{seeArOfEmployeeBean.refuseAr(seeArOfEmployeeBean.arOfEmployeeVM.arId)}"
								value="Refuser le CRA"
								rendered="#{seeArOfEmployeeBean.arOfEmployeeVM.stateAr == seeArOfEmployeeBean.inhold}" />
						</div>

					</div>
				</h:form>
			</div>

			<p:schedule id="schedule" value="#{seeArOfEmployeeBean.calendar}"
				initialDate="#{seeArOfEmployeeBean.arOfEmployeeVM.createdAt}"
				draggable="false" showHeader="false" class="col-sm-8"></p:schedule>
		</div>
	</ui:define>
</ui:composition>
</html>